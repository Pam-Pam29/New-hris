# ğŸ“¬ Extension Request Feedback - Complete Employee Experience

## âœ… How Employees Know About Extension Decisions

---

## ğŸ”„ **Complete Workflow:**

### **1ï¸âƒ£ Employee Requests Extension**

**What Employee Sees:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Complete Training Goal              â”‚
â”‚ [ğŸŸ  OVERDUE 8d]                     â”‚
â”‚                                     â”‚
â”‚ âš ï¸ This goal is 8 days overdue     â”‚
â”‚                                     â”‚
â”‚ [â° Request Extension]  â† Button    â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Employee Clicks â†’ Fills Form:**
- Requested New Deadline
- Reason for Extension

---

### **2ï¸âƒ£ After Submitting Request**

**What Employee Sees:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Complete Training Goal              â”‚
â”‚ [ğŸŸ  OVERDUE 8d]                     â”‚
â”‚                                     â”‚
â”‚ âš ï¸ This goal is 8 days overdue     â”‚
â”‚                                     â”‚
â”‚ â³ Extension request pending        â”‚
â”‚    manager approval                 â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Status:** Waiting for HR/Manager decision

---

### **3ï¸âƒ£ HR Approves Extension** âœ…

**What Employee Sees (Auto-updates via real-time sync):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Complete Training Goal              â”‚
â”‚ [ğŸŸ  OVERDUE 8d]                     â”‚
â”‚                                     â”‚
â”‚ âš ï¸ This goal is 8 days overdue     â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ âœ… Extension Approved!          â”‚ â”‚
â”‚ â”‚ New deadline: Oct 20, 2025      â”‚ â”‚ â† GREEN BOX!
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Color:** ğŸŸ¢ GREEN background with green border  
**Message:** Clear new deadline shown  
**Action:** Goal automatically updated with new end date

---

### **4ï¸âƒ£ HR Rejects Extension** âŒ

**What Employee Sees (Auto-updates via real-time sync):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Complete Training Goal              â”‚
â”‚ [ğŸŸ  OVERDUE 8d]                     â”‚
â”‚                                     â”‚
â”‚ âš ï¸ This goal is 8 days overdue     â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ âŒ Extension Request Rejected   â”‚ â”‚
â”‚ â”‚ Reason: Project priorities      â”‚ â”‚ â† ORANGE BOX!
â”‚ â”‚    changed                       â”‚ â”‚
â”‚ â”‚                                  â”‚ â”‚
â”‚ â”‚ [Request Another Extension]     â”‚ â”‚ â† Can try again
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Color:** ğŸŸ  ORANGE background with orange border  
**Message:** Shows HR's rejection reason  
**Action:** Employee can request another extension with different justification

---

## ğŸ¨ **Visual Summary:**

### **3 Distinct States:**

| State | Visual | Color | Message |
|-------|--------|-------|---------|
| **Pending** | â³ | Amber text | "Extension request pending manager approval" |
| **Approved** | âœ… | GREEN box | "Extension Approved! New deadline: [date]" |
| **Rejected** | âŒ | ORANGE box | "Extension Request Rejected" + reason |

---

## ğŸ“¡ **Real-Time Updates:**

**Employee doesn't need to refresh!**

When HR approves/rejects:
1. âœ… Firebase updates the goal document
2. âœ… Real-time sync detects the change
3. âœ… Employee's screen updates **automatically**
4. âœ… Visual feedback appears instantly

**Technology:** Firebase real-time listeners (`onSnapshot`)

---

## ğŸ’¬ **What Rejection Looks Like:**

### **Example Rejection Reasons HR Might Give:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âŒ Extension Request Rejected       â”‚
â”‚ Reason: Project deadline cannot be  â”‚
â”‚         moved. Please prioritize    â”‚
â”‚         this goal immediately.      â”‚
â”‚                                     â”‚
â”‚ [Request Another Extension]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Or:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âŒ Extension Request Rejected       â”‚
â”‚ Reason: This goal has already been  â”‚
â”‚         extended twice. Please      â”‚
â”‚         complete ASAP.              â”‚
â”‚                                     â”‚
â”‚ [Request Another Extension]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ **Can Employee Request Again?**

**YES!** âœ…

If rejected, employee can:
1. Click **"Request Another Extension"**
2. Fill out a new form
3. Provide better/different justification
4. Submit for HR review again

---

## ğŸ“Š **Where Employee Sees This:**

**Location:** Performance Management â†’ Goals Tab

**On Each Goal Card:**
- Inside the RED overdue warning box
- Below the "X days overdue" text
- Updates automatically based on HR action

---

## ğŸ¯ **Testing the Flow:**

### **Test Scenario - Rejection:**

**Step 1 (Employee):**
- Go to Performance Management
- Find overdue goal
- Click "Request Extension"
- Fill form: New deadline + reason
- Submit

**Step 2 (HR):**
- Go to HR Performance Management
- Click "Extension Requests" tab
- See pending request
- Click "Reject"
- Enter reason: "Project timeline cannot change"
- Submit

**Step 3 (Employee - Auto!):**
- Screen updates automatically
- See ORANGE box: "âŒ Extension Request Rejected"
- See reason: "Project timeline cannot change"
- See button: "Request Another Extension"

---

## âœ… **Key Features:**

1. âœ… **Instant Feedback** - Real-time sync, no refresh needed
2. âœ… **Clear Status** - Color-coded (Pending/Approved/Rejected)
3. âœ… **Transparency** - Shows HR's rejection reason
4. âœ… **Second Chance** - Can request again if rejected
5. âœ… **Professional** - Clear, respectful communication

---

## ğŸš€ **Status: FULLY IMPLEMENTED!**

**Employees will always know:**
- â³ When request is pending
- âœ… When it's approved (with new deadline)
- âŒ When it's rejected (with reason why)
- ğŸ”„ Option to request again

**No more wondering! Complete transparency!** ğŸ‰

---

## ğŸ“ **Code Implementation:**

**File:** `New-hris/employee-platform/src/pages/Employee/PerformanceManagement/MeetingScheduler.tsx`

**Logic:**
```typescript
if (goal.extensionApproved === true) {
    // Show GREEN approval box
} else if (goal.extensionApproved === false) {
    // Show ORANGE rejection box + reason
} else if (goal.extensionRequested) {
    // Show AMBER pending text
} else {
    // Show "Request Extension" button
}
```

**Just refresh the page to see it working!** ğŸŠ


