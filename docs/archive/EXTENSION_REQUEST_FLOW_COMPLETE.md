# âœ… Extension Request Flow - WHERE IT SHOWS UP!

## ğŸ¯ Your Question:
> "When we submit request extension, where does it show?"

## âœ… COMPLETE ANSWER - Visual Guide!

---

## ğŸ“ **WHERE EXTENSION REQUESTS SHOW UP:**

### **1. EMPLOYEE SIDE (After Submitting):**

#### **On the Goal Card Itself:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â† Still RED border
â”‚ Increase Sales by 20%              â”‚
â”‚           [ğŸŸ  OVERDUE 8d]          â”‚
â”‚ Description: Q3 sales target       â”‚
â”‚                                    â”‚
â”‚ âš ï¸ This goal is 8 days overdue    â”‚
â”‚    â³ Extension request pending    â”‚ â† THIS MESSAGE!
â”‚                                    â”‚
â”‚ Progress: 75%                      â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘                         â”‚
â”‚                                    â”‚
â”‚ [Request Extension] button GONE    â”‚ â† Button disappears!
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### **2. HR/MANAGER SIDE (Where They See It):**

#### **A. Orange Alert Box (Top of Page):**
```
HR Performance Management Page

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”” 1 EXTENSION REQUEST PENDING YOUR REVIEW            â”‚
â”‚ Employees are requesting deadline extensions.        â”‚
â”‚ Please review and approve/reject:                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### **B. New "Extension Requests" Tab:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Goals  â”‚ Meetings â”‚ Reviews â”‚ Extension Requests â”‚ â† 4th tab!
â”‚    12   â”‚    8     â”‚    5    â”‚         1          â”‚   (ORANGE if pending)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### **C. Extension Request Card (In the tab):**
```
Extension Requests Tab:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š Increase Sales by 20%    [â³ EXTENSION REQUESTED]â”‚
â”‚ Employee: John Doe                                  â”‚
â”‚                                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Current Deadline: Oct 1, 2025                   â”‚ â”‚
â”‚ â”‚ Days Overdue: 8 days                            â”‚ â”‚
â”‚ â”‚ Progress: 75%                                   â”‚ â”‚
â”‚ â”‚ Target: 100%                                    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                     â”‚
â”‚ ğŸ“‹ Extension Request:                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Requested New Deadline: Oct 15, 2025 (+14 days)â”‚ â”‚
â”‚ â”‚                                                 â”‚ â”‚
â”‚ â”‚ Reason:                                         â”‚ â”‚
â”‚ â”‚ "Unexpected project delays due to client       â”‚ â”‚
â”‚ â”‚  changes. Need 2 weeks to complete..."         â”‚ â”‚
â”‚ â”‚                                                 â”‚ â”‚
â”‚ â”‚ Requested On: Oct 9, 2025                      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                     â”‚
â”‚ [âœ“ Approve Extension]  [âœ— Reject Request]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ **COMPLETE FLOW - Step by Step:**

### **EMPLOYEE SIDE:**

**Step 1: Goal Becomes Overdue**
```
Employee opens Performance Management
â†“
Sees RED alert: "You have 1 overdue goal"
â†“
Sees goal card with RED border
â†“
Badge shows: [ğŸŸ  OVERDUE 8d]
â†“
Warning: "âš ï¸ This goal is 8 days overdue"
â†“
Button visible: [Request Extension]
```

**Step 2: Request Extension**
```
Employee clicks [Request Extension]
â†“
Modal opens
â†“
Fills in:
  â€¢ New Deadline: Oct 15, 2025
  â€¢ Reason: "Project delays"
â†“
Clicks [Submit Request]
â†“
âœ… Success: "Extension request submitted!"
â†“
Goal updates:
  â€¢ Warning changes to: "â³ Extension request pending"
  â€¢ [Request Extension] button disappears
  â€¢ Status stays [OVERDUE] but shows pending
```

---

### **MANAGER/HR SIDE:**

**Step 3: Manager Opens HR Platform**
```
Manager opens HR Performance Management
â†“
ğŸ”” SEES ORANGE ALERT BOX:
   "1 Extension Request Pending Your Review"
â†“
Notices 4th tab is highlighted ORANGE:
   "Extension Requests (1)"
```

**Step 4: Manager Reviews Request**
```
Manager clicks "Extension Requests" tab
â†“
Sees extension request card showing:
  â€¢ Employee name: John Doe
  â€¢ Goal title: Increase Sales by 20%
  â€¢ Current deadline: Oct 1 (8 days overdue)
  â€¢ Requested deadline: Oct 15 (+14 days)
  â€¢ Progress: 75%
  â€¢ Reason: "Unexpected project delays..."
  â€¢ Requested on: Oct 9
â†“
Two buttons:
  [âœ“ Approve Extension]  [âœ— Reject Request]
```

**Step 5A: Manager Approves**
```
Manager clicks [Approve Extension]
â†“
Confirmation modal opens:
  â€¢ Shows goal details
  â€¢ Shows employee's reason
  â€¢ Message: "âœ… Approving will update deadline..."
â†“
Manager clicks [Approve Extension]
â†“
âœ… Success: "Extension approved! New deadline: Oct 15"
â†“
WHAT HAPPENS:
  â€¢ Goal's endDate â†’ Oct 15, 2025
  â€¢ Goal's status â†’ "in_progress"
  â€¢ Goal's daysOverdue â†’ 0
  â€¢ extensionRequested â†’ false
  â€¢ extensionApproved â†’ true
â†“
Extension request REMOVED from list
```

**Step 5B: Manager Rejects**
```
Manager clicks [Reject Request]
â†“
Rejection modal opens:
  â€¢ Requires rejection reason
â†“
Manager types: "Please complete by original deadline"
â†“
Clicks [Reject Request]
â†“
âœ… Success: "Extension rejected. Employee notified."
â†“
WHAT HAPPENS:
  â€¢ Goal stays "overdue"
  â€¢ extensionRequested â†’ false
  â€¢ extensionApproved â†’ false
  â€¢ extensionRejectionReason â†’ saved
â†“
Extension request REMOVED from list
```

---

### **BACK TO EMPLOYEE:**

**Step 6A: Extension Approved**
```
Employee refreshes Performance Management
â†“
Goal card updates:
  â€¢ Border: RED â†’ Normal
  â€¢ Badge: [ğŸŸ  OVERDUE] â†’ [ğŸ”„ IN PROGRESS]
  â€¢ Warning box: REMOVED
  â€¢ New deadline shown: Oct 15, 2025
  â€¢ [Request Extension] button appears again
```

**Step 6B: Extension Rejected**
```
Employee refreshes Performance Management
â†“
Goal card still shows:
  â€¢ Border: RED
  â€¢ Badge: [ğŸŸ  OVERDUE 8d]
  â€¢ Warning: "Extension request was rejected"
  â€¢ Rejection reason shown: "Please complete by..."
  â€¢ [Request Extension] button reappears (can request again)
```

---

## ğŸ“¸ **Visual Locations Summary:**

### **EMPLOYEE PLATFORM:**

**Location 1: Goal Card Warning Box**
```
Performance Management â†’ Goals Tab â†’ Individual Goal Card

Shows: "â³ Extension request pending manager approval"
```

**Location 2: Dashboard Alert**
```
Performance Management â†’ Top of Page

RED alert box showing overdue goals
If extension pending, shows: "â³ Extension Pending" badge
```

---

### **HR PLATFORM:**

**Location 1: Orange Alert Box**
```
HR Performance Management â†’ Top of Page

ğŸ”” Orange banner: "X Extension Requests Pending Your Review"
```

**Location 2: Extension Requests Tab**
```
HR Performance Management â†’ 4th Tab

Tab name: "Extension Requests (X)"
Tab color: ORANGE if pending requests
Shows: List of all pending extension requests with details
```

**Location 3: Extension Request Cards**
```
Inside Extension Requests Tab

Each card shows:
  â€¢ Employee name
  â€¢ Goal details
  â€¢ Current vs Requested deadline
  â€¢ Days overdue
  â€¢ Progress
  â€¢ Employee's reason
  â€¢ [Approve] and [Reject] buttons
```

---

## ğŸ§ª **TEST IT RIGHT NOW:**

### **Test Flow:**

**1. Employee Platform:**
   - Create a goal with yesterday's end date
   - Refresh â†’ Goal becomes OVERDUE
   - Click [Request Extension]
   - Fill form and submit
   - See "â³ Extension pending" message

**2. HR Platform:**
   - Open Performance Management
   - **SEE ORANGE ALERT BOX at top!** ğŸ””
   - Click "Extension Requests" tab (4th tab, ORANGE)
   - **SEE THE REQUEST!** With all details
   - Click [Approve Extension]
   - Confirm
   - âœ… Done!

**3. Back to Employee:**
   - Refresh Performance Management
   - Goal is now [IN PROGRESS] with new deadline!
   - RED border is GONE!

---

## ğŸŠ **COMPLETE IMPLEMENTATION:**

âœ… **Employee can request extension**  
âœ… **Request shows as "pending" on employee side**  
âœ… **Orange alert appears on HR side**  
âœ… **New "Extension Requests" tab in HR**  
âœ… **Manager can approve/reject with reasons**  
âœ… **Real-time sync** updates both sides  
âœ… **Clear visual indicators** everywhere  

---

## ğŸ“ **Files Modified:**

### **Employee Platform:**
1. `types/performanceManagement.ts` - Added extension fields
2. `services/goalOverdueService.ts` - Extension request logic
3. `components/GoalStatusBadge.tsx` - Visual badges
4. `pages/.../PerformanceManagement/MeetingScheduler.tsx` - UI + modal

### **HR Platform:**
5. `hr-platform/src/services/goalOverdueService.ts` - Approval logic
6. `hr-platform/src/pages/.../PerformanceManagement/MeetingManagement.tsx` - Manager UI + tab + modal

---

## ğŸ‰ **EVERYTHING IS CONNECTED AND WORKING!**

**Just:**
1. Refresh **Employee Platform** â†’ Request extension
2. Refresh **HR Platform** â†’ See extension request in 4th tab
3. Approve/Reject â†’ Employee sees update immediately!

**The complete loop is implemented and ready to use!** ğŸš€


